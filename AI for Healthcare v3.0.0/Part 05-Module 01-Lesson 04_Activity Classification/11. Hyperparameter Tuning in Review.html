<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Hyperparameter Tuning in Review</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Activity Classification</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Intro to Activity Classifiers.html">01. Intro to Activity Classifiers</a>
    </li>
    <li class="">
      <a href="02. Data Exploration.html">02. Data Exploration</a>
    </li>
    <li class="">
      <a href="03. Exercise 1 Data Exploration.html">03. Exercise 1: Data Exploration</a>
    </li>
    <li class="">
      <a href="04. Exercise 1 Solution.html">04. Exercise 1: Solution</a>
    </li>
    <li class="">
      <a href="05. Feature Extraction I.html">05. Feature Extraction I</a>
    </li>
    <li class="">
      <a href="06. Exercise 2 Feature Extraction.html">06. Exercise 2: Feature Extraction</a>
    </li>
    <li class="">
      <a href="07. Feature Extraction Continued....html">07. Feature Extraction Continued...</a>
    </li>
    <li class="">
      <a href="08. Activity Classification.html">08. Activity Classification</a>
    </li>
    <li class="">
      <a href="09. Hyperparameter Tuning &amp; Regularization.html">09. Hyperparameter Tuning &amp; Regularization</a>
    </li>
    <li class="">
      <a href="10. Cross-Validation and Feature Importance.html">10. Cross-Validation and Feature Importance</a>
    </li>
    <li class="">
      <a href="11. Hyperparameter Tuning in Review.html">11. Hyperparameter Tuning in Review</a>
    </li>
    <li class="">
      <a href="12. Exercise 3 A Quirk in the Dataset.html">12. Exercise 3: A Quirk in the Dataset</a>
    </li>
    <li class="">
      <a href="13. Exercise 3 Solution.html">13. Exercise 3: Solution</a>
    </li>
    <li class="">
      <a href="14. Recap Activity Classification.html">14. Recap: Activity Classification</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">11. Hyperparameter Tuning in Review</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3><p>Heading</p></h3>
  <div>
  <h1 id="hyperparameter-tuning-in-review">Hyperparameter Tuning in Review</h1>
<p>Machine learning models use data to fit their internal parameters. However, all models also have parameters that configure how they work and aren’t modified during training, these parameters are called <strong>hyperparameters</strong>. We can train these hyperparameters by creating many different models, each with different hyperparameters and evaluating each model’s performance. Just like we can overfit model parameters, we can also overfit its hyperparameters. To avoid this, we can estimate performance using <strong>nested cross-validation</strong>.</p>
<p>Some hyperparameters affect how easily the model will overfit the data, sometimes at the expense of complexity. In our case, this hyperparameter was the depth of the trees in the forest. When we limited the tree depth to just 2, we saw the cross-validation error decrease substantially.  </p>
<p>Another hyperparameter that we can modify is the number of features that we choose to model. Random forest models use some features more than others to classify the data. In <code>sklearn</code> we can ask the <code>RandomForestClassifier</code> which features were more important than others. By building a new model that only uses the 10 best features, we were able to improve our performance to 93%. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Q: When to use nested CV?</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>When should you use nested cross-validation?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="rbk1" name="1007984" id="rbk1">
        <label for="rbk1"><p>To train your hyperparameters.</p></label>
      </div>
      <div>
        <input type="radio" value="rbk2" name="1007984" id="rbk2">
        <label for="rbk2"><p>When you need a better estimate of generalization error than regular cross-validation.</p></label>
      </div>
      <div>
        <input type="radio" value="rbk3" name="1007984" id="rbk3">
        <label for="rbk3"><p>To help regularize your model.</p></label>
      </div>
      <div>
        <input type="radio" value="rbk4" name="1007984" id="rbk4">
        <label for="rbk4"><p>None of the above</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    None of the above
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Video Code instructions</p></h3>
  <div>
  <h2 id="notebook-review">Notebook Review</h2>
<p>If you wanted to interact with the notebook in the video, you can access it <a href="https://github.com/udacity/nd320-c4-wearable-data-starter/tree/master/activity-classifier/walkthroughs/hyperparameter-tuning/" rel="noopener noreferrer" target="_blank">here</a> in the repo <code>/activity-classifier/walkthroughs/hyperparameter-tuning/</code> or in the workspace below. </p>
<p>The dataset that will be used throughout this lesson can be found at the top of the lesson directory at <code>/activity-classifier/data/</code>. </p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div class="jumbotron">
  <h3>Code</h3>

  <p class="lead">If you need a code on the <a href="https://github.com/udacity"
    target="_blank">https://github.com/udacity</a>. </p>

  </ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Further Resources</p></h3>
  <div>
  <h2 id="further-resources">Further Resources</h2>
<p>Nested cross-validation can be a tricky concept to wrap your head around. Here are three different explanations from three different authors. Maybe one of the following resources will explain it in a way that clicks for you:  </p>
<ul>
<li><a href="https://weina.me/nested-cross-validation/" rel="noopener noreferrer" target="_blank">Nested CV - Weina Jin</a>  </li>
<li><a href="https://www.elderresearch.com/blog/nested-cross-validation" rel="noopener noreferrer" target="_blank">Nested CV - Elder Research</a>  </li>
<li><a href="https://stats.stackexchange.com/questions/65128/nested-cross-validation-for-model-selection" rel="noopener noreferrer" target="_blank">Nested CV - Stack Exchange: Cross Validated</a>  </li>
</ul>
<p>Our code implementing nested CV was pretty verbose so that you could see all the steps. As with almost everything in ML, <code>sklearn</code> can do it for us as well and you can learn more about<br />
Nested CV in <code>sklearn</code> through the <a href="https://scikit-learn.org/stable/auto_examples/model_selection/plot_nested_cross_validation_iris.html" rel="noopener noreferrer" target="_blank">documentation</a>. </p>
<p>Is overfitting our hyperparameters really a problem in practice? <a href="http://www.jmlr.org/papers/volume11/cawley10a/cawley10a.pdf" rel="noopener noreferrer" target="_blank">Yes (or so says this 2010 paper)</a>  </p>
<p>An explanation of the difference between hyperparameters and regular parameters with this <a href="https://machinelearningmastery.com/difference-between-a-parameter-and-a-hyperparameter/" rel="noopener noreferrer" target="_blank">article</a> from Machine Learning Mastery. </p>
<p>If you want to learn more about Regularization through this <a href="https://towardsdatascience.com/regularization-an-important-concept-in-machine-learning-5891628907ea" rel="noopener noreferrer" target="_blank">article</a> from Towards Data Science.</p>
<h2 id="glossary">Glossary</h2>
<ul>
<li><strong>Hyperparameter</strong>: A parameter of the model that dictates how the model learns. This is not trained during the training process of the model itself.</li>
<li><strong>Regularization</strong>: Regularization is a technique to reduce overfitting of a model by discouraging complexity in the model.</li>
<li><strong>Nested cross-validation</strong>: A technique to determine model performance when hyperparameters are also optimized.</li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>heading</p></h3>
  <div>
  <h1 id="exercise-3-a-quirk-in-the-dataset">Exercise 3: A Quirk in the Dataset</h1>
<h2 id="instructions">Instructions</h2>
<ol>
<li>Complete the <strong>Offline</strong> or <strong>Online</strong> instructions below.</li>
<li>Read through the whole <code>.ipynb</code>.</li>
<li>Complete all the code cells that contain <code>## Your Code Goes Here</code>.</li>
</ol>
<h4 id="offline">Offline</h4>
<ol>
<li>In the repo which you can access <a href="https://github.com/udacity/nd320-c4-wearable-data-starter/tree/master/activity-classifier/exercises/3-quirk-in-the-dataset" rel="noopener noreferrer" target="_blank">here</a> in the repo <code>/activity-classifier/exercises/3-quirk-in-the-dataset/)</code> you should find the following files:</li>
</ol>
<ul>
<li><code>1_data_exploration.ipynb</code></li>
</ul>
<ol>
<li>The dataset that will be used throughout this lesson can be found at the top of the lesson directory at <code>/activity-classifier/data/</code>.</li>
<li>Open up the python notebook and associated files in your desired editor. </li>
</ol>
<p><strong>Note</strong>: Instructions can be found in <strong>Introduction to Wearable Data</strong>'s Concept <strong>Developer Workflow</strong> for how to set up your local environment.</p>
<h4 id="online">Online</h4>
<ol>
<li>Go to the next concept and the <code>3_quirk_in_the_dataset.ipynb</code> should be open and the workspace should already contain the appropriate <code>data</code> folder. </li>
</ol>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="12. Exercise 3 A Quirk in the Dataset.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('11. Hyperparameter Tuning in Review')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
